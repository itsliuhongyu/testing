import{c as H,b as P,h as N,s as M,g as Q,a as W,d as q,r as Z,H as $,e as L,f as D,i as F,C as j,j as ee,k as V,l as re,E as A,m as O,n as ne,o as fe,p as ae,q as B,t as le,u as ie,v as se,w as Y,x as ue,y as X,z as G,I as z,B as oe,A as te,D as ve,F as de}from"./ljRTH86f.js";function _e(e,a){return a}function ce(e,a,l){for(var v=[],g=a.length,s,i=a.length,n=0;n<g;n++){let u=a[n];G(u,()=>{if(s){if(s.pending.delete(u),s.done.add(u),s.pending.size===0){var d=e.outrogroups;y(B(s.done)),d.delete(s),d.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=v.length===0&&l!==null;if(o){var f=l,t=f.parentNode;te(t),t.append(f),e.items.clear()}y(a,!o)}else s={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(s)}function y(e,a=!0){for(var l=0;l<e.length;l++)ve(e[l],a)}var U;function Ee(e,a,l,v,g,s=null){var i=e,n=new Map;{var o=e;i=N?M(Q(o)):o.appendChild(H())}N&&W();var f=null,t=fe(()=>{var c=l();return ae(c)?c:c==null?[]:B(c)}),u,d=!0;function x(){_.fallback=f,pe(_,u,i,a,v),f!==null&&(u.length===0?(f.f&A)===0?X(f):(f.f^=A,k(f,null,i)):G(f,()=>{f=null}))}var r=P(()=>{u=q(t);var c=u.length;let T=!1;if(N){var h=Z(i)===$;h!==(c===0)&&(i=L(),M(i),D(!1),T=!0)}for(var b=new Set,m=re,I=ne(),C=0;C<c;C+=1){N&&F.nodeType===j&&F.data===ee&&(i=F,T=!0,D(!1));var R=u[C],p=v(R,C),E=d?null:n.get(p);E?(E.v&&V(E.v,R),E.i&&V(E.i,C),I&&m.skipped_effects.delete(E.e)):(E=ge(n,d?i:U??=H(),R,p,C,g,a,l),d||(E.e.f|=A),n.set(p,E)),b.add(p)}if(c===0&&s&&!f&&(d?f=O(()=>s(i)):(f=O(()=>s(U??=H())),f.f|=A)),N&&c>0&&M(L()),!d)if(I){for(const[J,K]of n)b.has(J)||m.skipped_effects.add(K.e);m.oncommit(x),m.ondiscard(()=>{})}else x();T&&D(!0),q(t)}),_={effect:r,items:n,outrogroups:null,fallback:f};d=!1,N&&(i=F)}function S(e){for(;e!==null&&(e.f&oe)===0;)e=e.next;return e}function pe(e,a,l,v,g){var s=a.length,i=e.items,n=S(e.effect.first),o,f=null,t=[],u=[],d,x,r,_;for(_=0;_<s;_+=1){if(d=a[_],x=g(d,_),r=i.get(x).e,e.outrogroups!==null)for(const p of e.outrogroups)p.pending.delete(r),p.done.delete(r);if((r.f&A)!==0)if(r.f^=A,r===n)k(r,null,l);else{var c=f?f.next:n;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),w(e,f,r),w(e,r,c),k(r,c,l),f=r,t=[],u=[],n=S(f.next);continue}if((r.f&z)!==0&&X(r),r!==n){if(o!==void 0&&o.has(r)){if(t.length<u.length){var T=u[0],h;f=T.prev;var b=t[0],m=t[t.length-1];for(h=0;h<t.length;h+=1)k(t[h],T,l);for(h=0;h<u.length;h+=1)o.delete(u[h]);w(e,b.prev,m.next),w(e,f,b),w(e,m,T),n=T,f=m,_-=1,t=[],u=[]}else o.delete(r),k(r,n,l),w(e,r.prev,r.next),w(e,r,f===null?e.effect.first:f.next),w(e,f,r),f=r;continue}for(t=[],u=[];n!==null&&n!==r;)(o??=new Set).add(n),u.push(n),n=S(n.next);if(n===null)continue}(r.f&A)===0&&t.push(r),f=r,n=S(r.next)}if(e.outrogroups!==null){for(const p of e.outrogroups)p.pending.size===0&&(y(B(p.done)),e.outrogroups?.delete(p));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||o!==void 0){var I=[];if(o!==void 0)for(r of o)(r.f&z)===0&&I.push(r);for(;n!==null;)(n.f&z)===0&&n!==e.fallback&&I.push(n),n=S(n.next);var C=I.length;if(C>0){var R=s===0?l:null;ce(e,I,R)}}}function ge(e,a,l,v,g,s,i,n){var o=(i&le)!==0?(i&ie)===0?se(l,!1,!1):Y(l):null,f=(i&ue)!==0?Y(g):null;return{v:o,i:f,e:O(()=>(s(a,o??l,f??g,n),()=>{e.delete(v)}))}}function k(e,a,l){if(e.nodes)for(var v=e.nodes.start,g=e.nodes.end,s=a&&(a.f&A)===0?a.nodes.start:l;v!==null;){var i=de(v);if(s.before(v),v===g)return;v=i}}function w(e,a,l){a===null?e.effect.first=l:a.next=l,l===null?e.effect.last=a:l.prev=a}export{Ee as e,_e as i};
